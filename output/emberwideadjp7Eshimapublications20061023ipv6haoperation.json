{
    "title": "The Deployment of Mobility Protocols Based on the Home Agent Service with Easy Interface",
    "publication_date": "2004-06",
    "authors": [
        {
            "full_name": "Satomi Fujimaki",
            "firstname": "Satomi",
            "lastname": "Fujimaki",
            "affiliations": [
                {
                    "organization": "†1 Keio University, Internet Initiative Japan Inc",
                    "address": {}
                }
            ]
        },
        {
            "full_name": "Keiichi Shima",
            "firstname": "Keiichi",
            "lastname": "Shima",
            "affiliations": [
                {
                    "organization": "†1 Keio University, Internet Initiative Japan Inc",
                    "address": {}
                }
            ]
        },
        {
            "full_name": "Keisuke Uehara",
            "firstname": "Keisuke",
            "lastname": "Uehara",
            "affiliations": [
                {
                    "organization": "†1 Keio University, Internet Initiative Japan Inc",
                    "address": {}
                }
            ]
        },
        {
            "full_name": "Fumio Teraoka",
            "firstname": "Fumio",
            "lastname": "Teraoka",
            "affiliations": [
                {
                    "organization": "†1 Keio University, Internet Initiative Japan Inc",
                    "address": {}
                }
            ]
        }
    ],
    "abstract": "This paper proposes an operational system for the IETF IPv6 mobility protocols for service providers. The system consists of a mobility management server, the web-interface to the server and supplemental support features. Such an integrated mobility service system plays an important role in mobility deployment because current mobility software only provides primitive functions and does not propose a reference combination of software for real services.\nAt the point of using mobility protocols as Mobile IPv6 and NEMO Basic Support, Home Agent is necessary. Home Agent is a special node on the Mobility Network. It functions as a base for Mobile Node. Mobile Node is a mobility node in network. By existence of Home Agent, Mobile Node can receive the packets while it is moving from primary network. But setting up, maintenance and management of Home Agent is not easy for general network users. In addition to that, using mobility protocols is not easy. Operational Home Agent (HA) system has two purposes, one is to provide an easy way for service providers to manage their Home Agent and users. Another one is to provide an easy way for mobile users to use the mobility service by providing a web-based interface, configuration template and providing a ready to use Live-CD.\nIn this paper, we investigate the operational problems that prevent mobility deployment and define the requirements for the system for mobile service operators and mobile users. We designed a web-based service interface to satisfy the requirements and implemented the first version of the system.",
    "full_text": "Mobile IPv6 (MIPv6) [1,2] and Network Mobility Basic Support (NEMO BS) [3] are standardized by the Internet Engineering Task Force (IETF) a few years ago. In recent years, the Internet has become the biggest communication infrastructure. Not only for personal computers but also PDAs, mobile phones and cars are connected to the Internet. To connect these moving devices to the Internet, MIPv6 and NEMO are proposed. However, both of MIPv6 and NEMO BS are not deployed yet. A few implementations of MIPv6 and NEMO BS are already available [4] [7], however, operation and business models are still under discussion. The reason why such discussion needs much time is that the mechanisms of MIPv6 and NEMO are complex.\n\nFigure 1 illustrates MIPv6. Mobile Node (MN) has a permanent fixed address, which is called as a Home Address (HoA). A node on the Internet, which is called as a Correspondent Node (CN), communicates with the MN using the HoA. A HoA must be allocated from Home Network and a Home Agent (HA) must be connected to the Home Network. To move forwards MIPv6 and NEMO BS deployment, we started Nautilus6 [5] operational HA project. This project aims two goals; to propose an operational model in real environment and to develop support soft wares for operation. This paper describes the operational problems of MIPv6 and NEMO and proposes its solutions.\n\nThe rest of this paper is structured as follows; Section 2 the goals and requirements of the Operational Home Agent Service. The design of the system based on the requirements discussed in Section 3. In Section 4 discusses the implementation. The consideration of this implementation is didcussed in Section 5. Finally, concluding remarks are presented in Section 6.\n\nMIPv6 and NEMO BS can be deployed just upgrading the end nodes without changing the whole Internet except we need a Home Network and HA. There are two kinds of operation models of how we locate the HA. Figure 3: Home Operation Model\n\nThe first model is to locate the HA in the network of a Mobile Service Provider (MSP) (the MSP Operation Model, Figure 2). In this model, the HA is operated by the MSP and HoAs and MNPs are allocated from the address space of the MSP. All mobile users will be seen as if they are connected to the MSP's network. This model is similar to current Mail services or Blog services operation model.\n\nThe second model is to locate the HA in each user's network (the Home Operation Model, Figure 3). In this case, each user has to have an IPv6 network for the Home Network of their mobile nodes and an IPv6 address block for MNPs when NEMO BS is used. The user's mobile nodes will be seen as if they are attached to their home. Each user has to operate the HA by themselves to adopt this model. In both models, a HoA is allocated from the address pool managed by the HA and assigned to MN or Mobile Router (MR). When MR is operated, MNP(s) will be allocated in addition to a HoA for the MR. The assignment protocol between the MN/MR and HA is out of scope of this discussion. It may be done manually, or it may be done by the Live CD mechanism described in Section ref{sec:imple, or it may be done by other mechanisms.\n\nCurrently, not many users have IPv6 connectivity to their home because of the delay of the IPv6 deployment. Also, operating a server in their home network is still not common to normal users and it is not realistic to assume they operate HAs in their homes. Even if IPv6 network is spread in the future, users would not set up their HAs by their selves. There are two reasons. One is a financial problem, another is a technical problem. If users want to set up their HAs, they should secure of the HAs, users have to have some costs of it. Also, configuring HA is difficult for general users. So we think MSP is more practical than Home Operation Model. In addition that, we already set up and management HA in real network. Therefore in this activity we focus on the MSP operation model for the service.\n\nThe goal of this activity is to prove that the MSP operational model is feasible for the real operation of a mobility service, including server side management functions of the service and users side usability. In the following sections we define the requirements for the MSP operation service model.\n\nWe focus on a common user of the Internet. They do not want to do very complex procedure. An easy way to setup their mobile nodes must be provided.\n\nTo try to use available implementations, a user must rebuild the kernel and install related software. It is hard to try to use it for a common user. When a user just want to try to use MIPv6 or NEMO BS, the installation should be easy.\n\nIn the MSP Operation Model, HoAs and MNPs must be assigned by MSP. It means some interactions are necessary between a user and the MSP. These interactions should be done easily and quickly.\n\nEven a user have installed MIPv6 and NEMO BS to his/her PC, it is not easy to configure it, because there are many parameters. They have to configure the HoA assigned by their MSP and have to install IPsec parameters because MIPv6 and NEMO BS requires IPsec communication between MN/MR and HA.\n\nTo provide MIPv6 and NEMO BS services, MSP has to operate HA and the other services like a security key generator. It means MSP need an operational package to start MIPv6 and NEMO BS HA service. Followings are the requirements from MSP.\n\nMSP provides services to a large number of users. In this situation, typical interactions with users should be done by machines. The interaction includes assigning HoAs, security information and to configure them.\n\nAn administrator of MSP has to reconfigure HA when MN parameters are changed. This operation should be minimized and automated to avoid miss operation.\n\nAccording to Section 2, MSP and users have requirements for this service. Figure 4 illustrates the relation of users, MSP, MN and HA.\n\nA is the service that MSP provide HoAs to users. When users get HoAs, they ask to MSP by phone, fax, email or other ways. The MSP must respond to user's request as soon as possible. It is very complicated and takes much time because traditionally these user requests are received by the administrators of the MSP and processed by them manually. B is the operation by users on their MNs, which contains rebuilding kernel of OS and especially when the users are not familiar with the OS and do not have enough knowledge about mobility protocols. This operation is complicated and takes much time especially when the users are not familiar with the OS and does not have enough knowledge about mobility protocols. C is the operation by the MSP of HA, which is configuring HoAs and IPsec keys. This operation is complicated because the MSP have to manage a large number of users that results in managing different unique HoAs for every users and related IPsec keys consistently. Users want to be simplify A and B. MSP want to reduce frequency of operation of A and C.\n\nTo satisfy requirements of users and MSP, we decided to place a tool between users and MSP. The tool is a Web based interface and databases. Because it is easy to use for users, and the placing is easy for MSP.\n\nFigure 5 illustrates the relation after placing the web based interface and databases. The web based interface simplifies A, B and C, that is to say, publication of HoAs, configuring HoA on MN, rebuilding the kernel of the MN's OS, setting IPsec on HA and updating HoAs information for MSP. They are done by the web based interface. In addition to simplifying and reducing frequency of operation of A, B, and C, the web based interface can configure the address pool of HoAs managed at the HA of the MSP. Therefore MSP can reduce frequency of complicated operation. These are proceduering when users release their HoAs, confirming and management the HoA.\n\nWe designed the web based interface from the requirements. The functions are divided into five groups. The groups refer to Figure 5.\n\nThe functions of management of HoAs are in this group. They are as follows:\n\n• Allocate HoA:\n\nThis function is used when users want to get a new HoA.\n\n• Delete HoA: This function is for users who want to release own HoA.\n\n• View user's information and parameters: This function is for users, who want to see their information about HoA, and IPsec parameters.\n\nThe functions for MN operations are in this group. The functions simplify the users' operation to the MN.\n\n•\n\nThe functions for management of users are in this group. The functions are mainly for operators.\n\n• Register users: User pages are opened for only registered users.\n\nA person, who wants to use this service, must register in advance.\n\n• Re-notify a password: This function is for users who forget their password.\n\n• Change a password: This function is for users who want to change their password.\n\nThe function for operate to the MN is in this group. The function is for users, and simplifies the operation to the MN. The difference between Group B and Group E is that Group B's functions are mandatory for operation of MNs while Group E functions provide additional features to make it easy to use mobility services.\n\n• Create Live CD: This function makes it easy to setup a MN. Users can save time for setup the MN without rebuilding kernel. What users need to do is to boot their devices with the live CD created by this function.\n\nThe functions for the web based interface are in this group. The functions are necessary only for management of the web based interface.\n\n• Login to user pages: This function is necessary when users want to see user pages, because user pages are opened for only registered users.\n\n• Logout from user pages: This function is necessary when users logout from user pages.\n\n• View Documentation: This is for all visitors. Even if the visitor see the web based interface for the first time, users can use this service with the documentation. We must have some information about user and their HoAs. We decided that each user are specified by the e-mail address and password.\n\nWe have one database consists of three tables; the user pre-registration table (Table A), the main user table (Table B) and the HoA table (Table C). Figure 6 illustrates the construction of the database. Table A, B are for user management, the main key is the id field which is incremented automatically when a user is added. Table B is for mainly user management, it has three fields which are the e-mail address field, password field and the id field. Table B is used when users login to users pages and logout from the pages. Table C is for HoA management. It makes user's id correspond to HoA's information.\n\nThe web based interface is implemented by PHP and MySQL. We chose this combination because the PHP language has a built-in API to access the databases created by MySQL. Figure 7 is the transition diagram of the web interface. In the figure each function is drawn with its group name. Exclude all user index page and user index page, some boxes are not with group name. Their group is others.  The web based interface is the solution for the requirements of users and MSP. Figure 8 is the screenshot of the index page for all visitors. At first, users have to register themselves for the service at the index page, which page can be accessed by every visitor. At the user registration page, users send their user id, Figure 9: user top page e-mail address and password. At this time, the registration is tentative. Users receive a mail from the web based interface with a particular URL which is produced from their password. Once the user visits the URL, the registration is completed. Users who forget their passwords can request to notify them of their password at the index page. Figure 9 is the screenshot of the user top page. Users who completed the registration procedure can login to user pages with their e-mail addresses and passwords. At user pages, users can get a new HoA, delete own HoA from database, see own information of HoA and IPsec keys, set IPsec on HA and create a Live CD. All management concerning HoAs are done at user top page. The web based interface has document pages for users who are puzzled when using the interface. The boxes that has no group name are grouped to 'Others' group.\n\nAll of the first, users want to get a HoA, users must register with the web based interface. When the user registers, the web based interface send a command to add a new user to the pre-registered user\n\ntable, Table A. The command is following. INSERT INTO Table A(email, link pass, pass) VALUES (´email´,´link pass´, ´pass´)\n\nLink pass is an encryption of password (pass). Table A is for temporary user registration, it has four fields which are the e-mail address field, the temporary password field, password field, and the id field. The id field is incremented automatically when a user is added. Then the user receives a mail from the web based interface with a particular URL which is produced from link pass. Once the user visits the URL, the registration is completed. When the user visits the URL, the web based interface checks that if the user is registered to the service or not. If the user is registered, the database sends back to the web based interface the user's e-mail and password. The web based interface sends a command to Table A and Table B with using the email and password. At first the web based interface sends a command to insert the user to the registered user table, Table B. The command is following.\n\n´)\n\nThen the web based interface sends a command to remove the temporary entry from Table A\n\nFigure 10 is the image of the Live CD. We provide a way to create a personal live CD which is based on users' mobility and security settings. The main components of this distribution are as follows:\n\n• Preconfigured mobility and security setup\n\n• Linux kernel 2.6.15.7 patched with nemo 0.2 [8] • Mobility daemon, running at boot time • Automatic network interface detection • Software related to IPv6 and Mobility environment: -Network testing tools: Ethereal, mip6tester, Scapy6, iperf, traceroute6, ping6 -Administration tools: scripts to manage the Mobility daemon easily -Multimedia software: VLC [9], KPhone/Pi IPv6 [10] -IPv6 games: gtetrinet A user can generate the ISO image file that is personalized based on his/her HoA and IPsec keys. The generated ISO image can be downloaded through the web interface. Since the ISO image is designed as a bootable CD image, the user can use it to try mobility services by just booting his/her PC with the CD.\n\nWe designed and implemented the web based interface based on the requirements discussed in Section 2 as a solution to deploy mobility services. For UR1: an easy way to try to use MIPv6 and NEMO BS, we provided a Live CD creation mechanism that is preconfigured to suite the user's environment. Users can try to use MIPv6 and NEMO BS just by booting their PC with the Live CD created for each of them. Therefore the requirement is satisfy. For UR2: an easy interface to get configuration, we implemented the web based interface. By using the web based interface, users can manage their HoA easily and quickly. For UR3 an easy way to set up the MN or the MR, we provided the function to show the configuration file of user's MNs on the web based interface and to a Live CD pre-configured for the user. By this method, users can configure their MNs easily. For PR1: to reduce face to face interaction with users and PR2: to reduce administrative work, we implement the web based interface. By using this, MSP can save time for operation and restrict of expenditure. From these, we satisfy all requirements.\n\nMIPv6 and NEMO BS were standardized by IETF a few years ago. Even though a few implementations of MIPv6 and NEMO BS are already available, however, operation and business models are still under discussion. The reason why such discussion needs much time is that the mechanisms of MIPv6 and NEMO are complex. To solve for the problem, we considered requirements for both users and MSP operators, and implemented the web based interface. The web based interface has effective functions for these requirements. From the implementation, we improve that each problems are resolved. But for actual operation in the future, we have problems such as HA redundancy, tunneling IPv6 over IPv4, using dynamic keying and multiple HA support. Now we only have one HA. In this case, we may not be able to serve all users connected to the HA if the number of users are very big. If we can have multiple HAs and we can dynamically assign a HA to each user based on the load of each HA, we can distribute the load to several HAs. For central management of HAs, we notice this as a necessary feature for deployment and it will be considered in later version of this system. The current web based interface and databases does not have information for this. Now therefore we will next version interface to configure such information so that it can be easily used in different service operators. In our present operation, we don't support MRs. In the next version, MNPs are allocated to MRs via the web based interface. Include these problems we continue to work on the other problems to deploy IPv6 mobility service."
}